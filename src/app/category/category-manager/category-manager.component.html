<div class="main">
    <div class="list-base">
        <app-category-list
            *ngIf="categories !== undefined else spinner" @fadeOut
            [categories]="categories"
        </app-category-list>
    </div>
</div>
<div #sidenav class="sidenav">
    <nav color="primary" mat-tab-nav-bar style="min-width: 300px">
        <a (click)="openSidenavAdd()" mat-tab-link [active]="!!service.add">New</a>
        <a mat-tab-link [active]="!!service.edit" [disabled]="!service.edit">Edit</a>
        <div class="drawer-close-btn-wrapper">
            <button mat-icon-button
                    matTooltip="Close"
                    matTooltipClass="custom-tooltip"
                    matTooltipShowDelay="400"
                    (click)="closeSidenavEdit()"
                    color="accent">
                <mat-icon style="font-weight: bold">
                    clear
                </mat-icon>
            </button>
        </div>
    </nav>
    <section class="form-container">
        <app-category-form [processing]="processing"
                           [process]="process"
                           *ngIf="!!service.category else spinner" @fadeIn
                           [mode]="formMode"
                           [category]="service.category"></app-category-form>
        <mat-progress-bar [mode]="processing ? 'indeterminate' : 'query'" *ngIf="processing || querying" @fadeOut></mat-progress-bar>
    </section>
</div>
<button class="fab"
        [class.show-fab]="showFab"
        (click)="openSidenavAdd()"
        matTooltip="Create new category"
        matTooltipClass="custom-tooltip"
        matTooltipShowDelay="500"
        mat-fab color="accent">
    <mat-icon>add</mat-icon>
</button>
<ng-template #spinner>
    <div class="spinner">
        <mat-spinner></mat-spinner>
    </div>
</ng-template>
